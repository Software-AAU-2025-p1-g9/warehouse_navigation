The main file looks a bit messy right now, as we are currently debugging a lot there.
warehouse.c has functions and structs that can be used by all files.
the main structure of the warehouse is that it is an array of arrays of nodes. These nodes store their coordinates, and pointers to up to sixteen edges, (eight inwards, and eight outwards).
An edge is a directed connection between nodes. It has a pointer to its source, and a pointer to its destination as well as a cost value, that most of the time is equal to the distance between the two nodes.
if edge E has node A as its source and node B as its destination, A has a pointer to E in its successors, and B has a pointer to E in its predecessors.
the nodes also have arrays of g- h- and rhs-values. This is because one node can have different g-values, with respect to multiple different "maps", and since this information needs to be reused in LPA* and D* Lite, it needs to be stored somewhere. The function node_pos returns an id number for a node, based on its coordinates. Since every map has excactly one constant node, (start for LPA*, and goal for D* Lite), the id for the constant node is used as the id for the map, meaning if you want to find the g-value of node N in the LPA*-map where node M is the start node, you write N.g[node_pos(M)].
An order is a struct with two nodes, where one of them is a shelf, and the other is a pickup-/dropoff-point.
At the moment we have one robot. When a robot does not have a path to follow, it uses a pathfinding algorithm to update the g-values of the warehouse, and runs the find_shortest_path function, that returns an array of edges it should follow. When it moves along the edge, it simply sets its time_at_next_stop to what the global "time" will be when it is done moving. When it moves next time, the global time is set to time_at_next_stop.
